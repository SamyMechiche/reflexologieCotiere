{% extends 'base.html.twig' %}

{% block title %}ReflexologieCôtière | Message{% endblock %}

{% block body %}
    <div class="admin-crud-header">
        <a href="{{ path('admin_messages') }}" class="dashboard-back-btn">← Retour à la liste des messages</a>
    </div>
    <div class="example-wrapper" style="max-width: 700px; margin: 2em auto;">
        {% if message is defined %}
            <h1>Détail du message</h1>
            <div style="background:#fff; border-radius:12px; box-shadow:0 2px 8px rgba(0,0,0,0.07); padding:2em;">
                <p class="black"><strong>Date :</strong> {{ message.getSentAt() ? message.getSentAt()|date('d/m/Y H:i') : '-' }}</p>
                <p class="black"><strong>Nom :</strong> {% if message.getUser() %}{{ message.getUser().getFirstName() ~ ' ' ~ message.getUser().getLastName() }}{% elseif message.getName() %}{{ message.getName() }}{% else %}-{% endif %}</p>
                <p class="black"><strong>Email :</strong> {% if message.getUser() %}{{ message.getUser().getEmail() }}{% elseif message.getEmail() %}{{ message.getEmail() }}{% else %}-{% endif %}</p>
                <p class="black"><strong>Téléphone :</strong> {{ message.getPhone() ?: '-' }}</p>
                <p class="black"><strong>Sujet :</strong> {{ message.getSubject() ?: '-' }}</p>
                <p class="black"><strong>Message :</strong><br>{{ message.getContent() }}</p>
                <p class="black"><strong>Lu :</strong> {% if message.isRead() %}Oui{% else %}Non{% endif %}</p>
            </div>
        {% else %}
            <h2>Aucun message à afficher.</h2>
        {% endif %}
    </div>
{% endblock %}
